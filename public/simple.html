<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src='https://cdn.firebase.com/v0/firebase.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/main.css"/>
</head>
<body>
<ul class="component-list">
    <li onclick="addComponent('notgate')">NOT</li>
    <li onclick="addComponent('andgate')">AND</li>
    <li onclick="addComponent('orgate')">OR</li>
    <li onclick="addComponent('nandgate')">NAND</li>
    <li onclick="addComponent('norgate')">NOR</li>
    <li onclick="addComponent('xorgate')">XOR</li>
    <li onclick="addComponent('xnorgate')">XNOR</li>
    <li onclick="addComponent('mux')">MUX</li>
    <li onclick="addComponent('dflipflop')">DFF</li>
    <li onclick="addComponent('tflipflop')">TFF</li>
    <li onclick="addComponent('decoder')">DECODER</li>
    <li onclick="addComponent('register')">REGISTER</li>
</ul>
<div class="logo">Hack with Friends</div>
<div class="chart"></div>
<div class="main">
    <g id="workspace-container">
        <svg id="workspace"></svg>
    </g>
    <div id="chat">
        <input type='text' id='nameInput' placeholder='Name'>
        <input type='text' id='messageInput' placeholder='Message'>
        <script>
            var myDataRef = new Firebase('https://circuitswithfriends.firebaseIO.com/chat/');
            $('#messageInput').keypress(function (e) {
                if (e.keyCode == 13) {
                    var name = $('#nameInput').val();
                    var text = $('#messageInput').val();
                    myDataRef.push({name: name, text: text});
                    $('#messageInput').val('');
                }
            });
            myDataRef.on('child_added', function (snapshot) {
                var message = snapshot.val();
                displayChatMessage(message.name, message.text);
            });
            function displayChatMessage(name, text) {
                $('<div/>').text(text).prepend($('<em/>').text(name + ': ')).appendTo($('#chat'));
                $('#chat')[0].scrollTop = $('#chat')[0].scrollHeight;
            }
            ;
        </script>
    </div>
</div>
<script src="js/circuits.js"></script>
<script src="js/d3.v3.js"></script>
<script src="js/workspace.js"></script>
<script type='text/javascript' id='lt_ws' src='http://localhost:64055/socket.io/lighttable/ws.js'></script>
</body>
</html>
